---
import { getCollection } from 'astro:content';
import MainLayout from '../../layouts/MainLayout.astro';
import Post from '../../components/Post.astro';

// generate paths from existing content entries
export async function getStaticPaths() {
  const entries = await getCollection('posts');
  return entries.map((entry) => {
    return {
      params: { slug: entry.id },
      props: { post: entry },
    };
  });
}

const { post } = Astro.props;
---

<MainLayout>
  <Post post={post} />
</MainLayout>
<style>
  .content-container {
    width: var(--content-width);
    margin: auto;
    background-color: rebeccapurple;
  }
</style>
